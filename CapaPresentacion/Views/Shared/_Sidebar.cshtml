<div class="sidebar bg-dark text-white p-3" style="min-height:100vh; width:250px;">
    <div class="text-center mb-3 border-bottom pb-3">
        <img src="@Url.Content("~/Content/imganes/logodgac.jpg")"
             alt="DGAC Logo"
             class="img-fluid shadow-sm"
             style="max-height:70px; border-radius: 8px;">

        <div class="mt-3">
            <span class="d-block font-weight-bold text-info" style="font-size: 0.85rem;">USUARIO ACTIVO</span>
            <div class="text-light small">@Session["Correo"]</div>

            @Html.Partial("_SeleccionarRol")
        </div>
    </div>

    @{
        // Capturamos el rol actual de la sesión
        var rolActual = Session["Rol"] != null ? Session["Rol"].ToString() : "";
    }

    <div class="menu-container">
        <h6 class="text-uppercase text-muted font-weight-bold mb-3" style="font-size: 0.7rem; letter-spacing: 1px;">
            Menú de Gestión
        </h6>

        @if (rolActual == "Operador" || rolActual == "Administrador" || rolActual == "Solicitante")
        {
            <div class="nav-group mb-4">
                <div class="text-warning small font-weight-bold mb-2">
                    <i class="fas fa-user-edit mr-1"></i> SOLICITANTE
                </div>
                <ul class="list-unstyled ml-2">
                    <li class="mb-2">
                        <i class="fas fa-angle-right text-white-50 mr-2"></i>
                        <a href="javascript:void(0);" onclick="window.cargarFormulario(0)" class="text-light text-decoration-none hover-link">
                            Crear Solicitud
                        </a>
                    </li>
                    <li class="mb-2">
                        <i class="fas fa-folder-open text-white-50 mr-2"></i>
                        <a href="@Url.Action("Index", "SolicitudAOCR")" class="text-light text-decoration-none hover-link">
                            Mis Solicitudes
                        </a>
                    </li>
                </ul>
            </div>
        }

        @if (rolActual == "Inspector" || rolActual == "Administrador")
        {
            <div class="nav-group mb-4">
                <div class="text-info small font-weight-bold mb-2">
                    <i class="fas fa-search mr-1"></i> INSPECCIÓN
                </div>
                <ul class="list-unstyled ml-2">
                    <li class="mb-2">
                        <i class="fas fa-tasks text-white-50 mr-2"></i>
                        <a href="@Url.Action("RevisarSolicitudes", "SolicitudAOCR")" class="text-light text-decoration-none hover-link">
                            Revisar Solicitudes
                        </a>
                    </li>
                    <li class="mb-2">
                        <i class="fas fa-file-alt text-white-50 mr-2"></i>
                        <a href="@Url.Action("RevisarDocumentos", "Documento")" class="text-light text-decoration-none hover-link">
                            Revisar Documentos
                        </a>
                    </li>
                </ul>
            </div>
        }

        @if (rolActual == "JefaturaTecnica" || rolActual == "Administrador")
        {
            <div class="nav-group mb-4">
                <div class="text-primary small font-weight-bold mb-2">
                    <i class="fas fa-tools mr-1"></i> JEFTÉCNICA
                </div>
                <ul class="list-unstyled ml-2">
                    <li class="mb-2">
                        <i class="fas fa-check-double text-white-50 mr-2"></i>
                        <a href="@Url.Action("RevisarPorJefatura", "SolicitudAOCR")" class="text-light text-decoration-none hover-link">
                            Validar Solicitudes
                        </a>
                    </li>
                </ul>
            </div>
        }

        @if (rolActual == "CoordinacionLegal" || rolActual == "Administrador")
        {
            <div class="nav-group mb-4">
                <div class="text-primary small font-weight-bold mb-2">
                    <i class="fas fa-gavel mr-1"></i> COORDINACIÓN LEGAL
                </div>
                <ul class="list-unstyled ml-2">
                    <li class="mb-2">
                        <i class="fas fa-check text-white-50 mr-2"></i>
                        <a href="@Url.Action("RevisarLegalizacion", "SolicitudAOCR")" class="text-light text-decoration-none hover-link">
                            Legalizar AOCR
                        </a>
                    </li>
                </ul>
            </div>
        }

        @if (rolActual == "Financiero" || rolActual == "Administrador")
        {
            <div class="nav-group mb-4">
                <div class="text-success small font-weight-bold mb-2">
                    <i class="fas fa-file-invoice-dollar mr-1"></i> FINANCIERO
                </div>
                <ul class="list-unstyled ml-2">
                    <li>
                        <i class="fas fa-check-double text-white-50 mr-2"></i>
                        <a href="@Url.Action("ValidacionPagos", "Financiero")" class="text-light text-decoration-none hover-link">
                            Validación de Pagos
                        </a>
                    </li>
                </ul>
            </div>
        }

        @if (rolActual == "Tecnico" || rolActual == "Administrador")
        {
            <div class="nav-group mb-4">
                <div class="text-primary small font-weight-bold mb-2">
                    <i class="fas fa-tools mr-1"></i> ÁREA TÉCNICA
                </div>
                <ul class="list-unstyled ml-2">
                    <li class="mb-2">
                        <i class="fas fa-user-check text-white-50 mr-2"></i>
                        <a href="@Url.Action("AsignarInspector", "Tecnico")" class="text-light text-decoration-none hover-link">
                            Asignar Inspector
                        </a>
                    </li>
                    <li class="mb-2">
                        <i class="fas fa-calendar-alt text-white-50 mr-2"></i>
                        <a href="@Url.Action("Planificacion", "Tecnico")" class="text-light text-decoration-none hover-link">
                            Planificación
                        </a>
                    </li>
                    <li>
                        <i class="fas fa-list-ul text-white-50 mr-2"></i>
                        <a href="@Url.Action("ListaChequeo", "Tecnico")" class="text-light text-decoration-none hover-link">
                            Lista de Chequeo
                        </a>
                    </li>
                </ul>
            </div>
        }

        @if (rolActual == "Direccion" || rolActual == "Administrador")
        {
            <div class="nav-group mb-4">
                <div class="text-danger small font-weight-bold mb-2">
                    <i class="fas fa-shield-alt mr-1"></i> DIRECCIÓN
                </div>
                <ul class="list-unstyled ml-2">
                    <li class="mb-2">
                        <i class="fas fa-balance-scale text-white-50 mr-2"></i>
                        <a href="@Url.Action("ValidacionFinal", "Direccion")" class="text-light text-decoration-none hover-link">
                            Validación Final
                        </a>
                    </li>
                </ul>
            </div>
        }
    </div>

    <hr class="bg-secondary opacity-25" />

    <div class="mt-auto">
        <ul class="list-unstyled">
            <li class="mb-2">
                <i class="fas fa-home text-info mr-2"></i>
                <a href="@Url.Action("Index", "Home")" class="text-light text-decoration-none hover-link">Dashboard Inicio</a>
            </li>
            <li>
                <i class="fas fa-sign-out-alt text-danger mr-2"></i>
                <a href="@Url.Action("Logout", "Account")" class="text-danger font-weight-bold text-decoration-none">Cerrar Sesión</a>
            </li>
        </ul>
    </div>
</div>

<style>
    .hover-link {
        transition: all 0.2s;
        display: inline-block;
    }

        .hover-link:hover {
            color: #17a2b8 !important;
            padding-left: 5px;
            text-decoration: none;
        }

    .nav-group ul li a {
        font-size: 0.85rem;
    }

    .sidebar {
        box-shadow: 4px 0 10px rgba(0,0,0,0.1);
        display: flex;
        flex-direction: column;
        z-index: 1000; /* Asegura que el sidebar esté por encima */
    }

        /* Estilo para que el select de roles se vea bien en el fondo oscuro */
        .sidebar select.form-control-sm {
            background-color: #2c3e50;
            border: 1px solid #34495e;
            color: white;
        }
</style>